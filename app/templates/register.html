
{% extends "base.html" %}

{% block content %}

<div class="container">

<h1>User Registration</h1>


<form action="{{url_for('register')}}" method="post">

  {{ user_form.hidden_tag() }}

  {{ user_form.username.label(class="form-label") }}
  {{ user_form.username(class="form-control w=50") }}


  {{ user_form.first_name.label(class="form-label") }}
  {{ user_form.first_name(class="form-control w=50") }}

  {{ user_form.last_name.label(class="form-label") }}
  {{ user_form.last_name(class="form-control w=50") }}

  {{ user_form.password.label(class="form-label") }}
  {{ user_form.password(class="form-control w=50") }}
  
  {{ user_form.submit(class="btn-primary") }}

</form>



<!-- USERS -->
<div class="row mt-5">

  <div class="col-lg-6">
    <h3>Users</h3>
    <ul class="list-group">
      {% for user in users|reverse %}

      <li class="list-group-item d-flex justify-content-between align-items-center">
        {{ user }}


<!--  DELETE USER -->

<form action="{{ url_for('delete_user', user_id=user.id) }}" method="post"
    onsubmit="console.log('Submitting delete form'); return confirm('Are you sure you want to delete this user?');"
    class="d-inline">

          <button type="submit" class="btn btn-sm btn-danger">Delete</button>
        </form>

      </li>
      {% endfor %}
    </ul>
  </div>

</div>
{% endblock %}